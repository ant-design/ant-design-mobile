webpackJsonp([38,98],{485:function(n,s){"use strict";n.exports={content:[["p","\u6570\u636e\u7ea7\u8054\u9009\u62e9\u793a\u4f8b. (",["a",{title:null,href:"https://github.com/react-component/form"},"rc-form \u6587\u6863"],")"]],meta:{order:0,title:"\u57fa\u672c",filename:"components/picker/demo/basic.md",id:"components-picker-demo-basic"},toc:["ul"],highlightedCode:["pre",{lang:"jsx",highlighted:'<span class="token keyword" >import</span> <span class="token punctuation" >{</span> Picker<span class="token punctuation" >,</span> List <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >\'antd-mobile\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token punctuation" >{</span> createForm <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >\'rc-form\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >import</span> district <span class="token keyword" >from</span> <span class="token string" >\'site/data/district\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> province <span class="token keyword" >from</span> <span class="token string" >\'site/data/province-lite\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >let</span> Test <span class="token operator" >=</span> React<span class="token punctuation" >.</span><span class="token function" >createClass</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n  <span class="token function" >getInitialState</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >{</span>\n      data<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n      cols<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >onClick</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token function" >setTimeout</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n        data<span class="token punctuation" >:</span> province<span class="token punctuation" >,</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >500</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >onPickerChange</span><span class="token punctuation" >(</span>val<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    console<span class="token punctuation" >.</span><span class="token function" >log</span><span class="token punctuation" >(</span>val<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token keyword" >let</span> colNum <span class="token operator" >=</span> <span class="token number" >1</span><span class="token punctuation" >;</span>\n    <span class="token keyword" >const</span> d <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>data<span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    <span class="token keyword" >if</span> <span class="token punctuation" >(</span>val<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span> <span class="token operator" >===</span> <span class="token string" >\'zj\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n      d<span class="token punctuation" >.</span><span class="token function" >forEach</span><span class="token punctuation" >(</span>i <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n        <span class="token keyword" >if</span> <span class="token punctuation" >(</span>i<span class="token punctuation" >.</span>value <span class="token operator" >===</span> <span class="token string" >\'zj\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n          colNum <span class="token operator" >=</span> <span class="token number" >2</span><span class="token punctuation" >;</span>\n          <span class="token keyword" >if</span> <span class="token punctuation" >(</span><span class="token operator" >!</span>i<span class="token punctuation" >.</span>children<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n            i<span class="token punctuation" >.</span>children <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >{</span>\n              value<span class="token punctuation" >:</span> <span class="token string" >\'zj-nb\'</span><span class="token punctuation" >,</span>\n              label<span class="token punctuation" >:</span> <span class="token string" >\'\u5b81\u6ce2\'</span><span class="token punctuation" >,</span>\n            <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n              value<span class="token punctuation" >:</span> <span class="token string" >\'zj-hz\'</span><span class="token punctuation" >,</span>\n              label<span class="token punctuation" >:</span> <span class="token string" >\'\u676d\u5dde\'</span><span class="token punctuation" >,</span>\n            <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n          <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token keyword" >if</span> <span class="token punctuation" >(</span>val<span class="token punctuation" >[</span><span class="token number" >1</span><span class="token punctuation" >]</span> <span class="token operator" >===</span> <span class="token string" >\'zj-hz\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n            i<span class="token punctuation" >.</span>children<span class="token punctuation" >.</span><span class="token function" >forEach</span><span class="token punctuation" >(</span>j <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n              <span class="token keyword" >if</span> <span class="token punctuation" >(</span>j<span class="token punctuation" >.</span>value <span class="token operator" >===</span> <span class="token string" >\'zj-hz\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n                j<span class="token punctuation" >.</span>children <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >{</span>\n                  value<span class="token punctuation" >:</span> <span class="token string" >\'zj-hz-xh\'</span><span class="token punctuation" >,</span>\n                  label<span class="token punctuation" >:</span> <span class="token string" >\'\u897f\u6e56\u533a\'</span><span class="token punctuation" >,</span>\n                <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n              <span class="token punctuation" >}</span>\n            <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n            colNum <span class="token operator" >=</span> <span class="token number" >3</span><span class="token punctuation" >;</span>\n          <span class="token punctuation" >}</span>\n        <span class="token punctuation" >}</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>\n      colNum <span class="token operator" >=</span> <span class="token number" >1</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span>\n    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n      data<span class="token punctuation" >:</span> d<span class="token punctuation" >,</span>\n      cols<span class="token punctuation" >:</span> colNum<span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token comment" spellcheck="true">// setVal() {</span>\n  <span class="token comment" spellcheck="true">//   this.props.form.setFieldsValue({</span>\n  <span class="token comment" spellcheck="true">//     district: [\'340000\', \'340800\', \'340822\'],</span>\n  <span class="token comment" spellcheck="true">//   });</span>\n  <span class="token comment" spellcheck="true">// },</span>\n  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> getFieldProps <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>form<span class="token punctuation" >;</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>List</span> <span class="token attr-name" >style</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> backgroundColor<span class="token punctuation" >:</span> <span class="token string" >\'white\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Picker</span> <span class="token attr-name" >extra</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>\u8bf7\u9009\u62e9(\u53ef\u9009)<span class="token punctuation" >"</span></span> <span class="token attr-name" >data</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>district<span class="token punctuation" >}</span></span> <span class="token attr-name" >title</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>\u9009\u62e9\u5730\u533a<span class="token punctuation" >"</span></span> <span class="token attr-name" >{...getFieldProps(\'district\',</span> <span class="token attr-name" >{</span>\n          <span class="token attr-name" ><span class="token namespace" >initialValue:</span></span> <span class="token attr-name" >[\'340000\',</span> <span class="token attr-name" >\'340800\',</span> <span class="token attr-name" >\'340824\'],</span>\n        <span class="token attr-name" >})}</span>\n        <span class="token punctuation" >></span>\n          <span class="token attr-name" >&lt;List.Item</span> <span class="token attr-name" >arrow</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>horizontal<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>\u7701\u5e02\u533a\u9009\u62e9<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>List.Item</span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Picker</span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Picker</span> <span class="token attr-name" >data</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>data<span class="token punctuation" >}</span></span> <span class="token attr-name" >cols</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cols<span class="token punctuation" >}</span></span>\n          <span class="token attr-name" >{...getFieldProps(\'district2\')}</span>\n          <span class="token attr-name" >onPickerChange</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>onPickerChange<span class="token punctuation" >}</span></span>\n        <span class="token punctuation" >></span></span>\n          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>List.Item</span> <span class="token attr-name" >arrow</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>horizontal<span class="token punctuation" >"</span></span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>onClick<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span><span class="token function" >\u7701\u5e02\u9009\u62e9</span><span class="token punctuation" >(</span>\u5f02\u6b65\u52a0\u8f7d<span class="token punctuation" >)</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>List.Item</span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Picker</span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Picker</span> <span class="token attr-name" >data</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>district<span class="token punctuation" >}</span></span> <span class="token attr-name" >cols</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token number" >1</span><span class="token punctuation" >}</span></span> <span class="token attr-name" >{...getFieldProps(\'district3\')}</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>forss<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>\n          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>List.Item</span> <span class="token attr-name" >arrow</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>horizontal<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>\u9009\u62e9\u7701\u4efd<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>List.Item</span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Picker</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>List</span><span class="token punctuation" >></span></span>\n    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\nTest <span class="token operator" >=</span> <span class="token function" >createForm</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>Test<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\nReactDOM<span class="token punctuation" >.</span><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Test</span> <span class="token punctuation" >/></span></span><span class="token punctuation" >,</span> mountNode<span class="token punctuation" >)</span><span class="token punctuation" >;</span>'}],preview:["pre",{lang:"__react"},["code","import { Picker, List } from 'antd-mobile';\nimport { createForm } from 'rc-form';\n\nimport district from 'site/data/district';\nimport province from 'site/data/province-lite';\n\nlet Test = React.createClass({\n  getInitialState() {\n    return {\n      data: [],\n      cols: 1,\n    };\n  },\n  onClick() {\n    setTimeout(() => {\n      this.setState({\n        data: province,\n      });\n    }, 500);\n  },\n  onPickerChange(val) {\n    console.log(val);\n    let colNum = 1;\n    const d = [...this.state.data];\n    if (val[0] === 'zj') {\n      d.forEach(i => {\n        if (i.value === 'zj') {\n          colNum = 2;\n          if (!i.children) {\n            i.children = [{\n              value: 'zj-nb',\n              label: '\u5b81\u6ce2',\n            }, {\n              value: 'zj-hz',\n              label: '\u676d\u5dde',\n            }];\n          } else if (val[1] === 'zj-hz') {\n            i.children.forEach(j => {\n              if (j.value === 'zj-hz') {\n                j.children = [{\n                  value: 'zj-hz-xh',\n                  label: '\u897f\u6e56\u533a',\n                }];\n              }\n            });\n            colNum = 3;\n          }\n        }\n      });\n    } else {\n      colNum = 1;\n    }\n    this.setState({\n      data: d,\n      cols: colNum,\n    });\n  },\n  // setVal() {\n  //   this.props.form.setFieldsValue({\n  //     district: ['340000', '340800', '340822'],\n  //   });\n  // },\n  render() {\n    const { getFieldProps } = this.props.form;\n    return (<div>\n      <List style={{ backgroundColor: 'white' }}>\n        <Picker extra=\"\u8bf7\u9009\u62e9(\u53ef\u9009)\" data={district} title=\"\u9009\u62e9\u5730\u533a\" {...getFieldProps('district', {\n          initialValue: ['340000', '340800', '340824'],\n        })}\n        >\n          <List.Item arrow=\"horizontal\">\u7701\u5e02\u533a\u9009\u62e9</List.Item>\n        </Picker>\n        <Picker data={this.state.data} cols={this.state.cols}\n          {...getFieldProps('district2')}\n          onPickerChange={this.onPickerChange}\n        >\n          <List.Item arrow=\"horizontal\" onClick={this.onClick}>\u7701\u5e02\u9009\u62e9(\u5f02\u6b65\u52a0\u8f7d)</List.Item>\n        </Picker>\n        <Picker data={district} cols={1} {...getFieldProps('district3')} className=\"forss\">\n          <List.Item arrow=\"horizontal\">\u9009\u62e9\u7701\u4efd</List.Item>\n        </Picker>\n      </List>\n    </div>);\n  },\n});\n\nTest = createForm()(Test);\n\nReactDOM.render(<Test />, mountNode);"]]}},619:function(n,s,a){n.exports={basic:a(485)}}});