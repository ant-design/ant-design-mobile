webpackJsonp([42,98],{403:function(n,s){"use strict";n.exports={content:[],meta:{order:0,title:"\u57fa\u672c\u7528\u6cd5\u793a\u4f8b",filename:"components/action-sheet/demo/basic.md",id:"components-action-sheet-demo-basic"},toc:["ul"],highlightedCode:["pre",{lang:"jsx",highlighted:'<span class="token keyword" >import</span> <span class="token punctuation" >{</span> ActionSheet<span class="token punctuation" >,</span> Button<span class="token punctuation" >,</span> Toast <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >\'antd-mobile\'</span><span class="token punctuation" >;</span>\n\n<span class="token comment" spellcheck="true">// fix touch to scroll background page on iOS</span>\n<span class="token comment" spellcheck="true">// https://github.com/ant-design/ant-design-mobile/issues/307</span>\n<span class="token comment" spellcheck="true">// https://github.com/ant-design/ant-design-mobile/issues/163</span>\n<span class="token keyword" >const</span> isIPhone <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >RegExp</span><span class="token punctuation" >(</span><span class="token string" >\'\\\\biPhone\\\\b|\\\\biPod\\\\b\'</span><span class="token punctuation" >,</span> <span class="token string" >\'i\'</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >test</span><span class="token punctuation" >(</span>window<span class="token punctuation" >.</span>navigator<span class="token punctuation" >.</span>userAgent<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >let</span> wrapProps<span class="token punctuation" >;</span>\n<span class="token keyword" >if</span> <span class="token punctuation" >(</span>isIPhone<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  wrapProps <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n    onTouchStart<span class="token punctuation" >:</span> e <span class="token operator" >=</span><span class="token operator" >></span> e<span class="token punctuation" >.</span><span class="token function" >preventDefault</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span>\n\n<span class="token keyword" >const</span> Test <span class="token operator" >=</span> React<span class="token punctuation" >.</span><span class="token function" >createClass</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n  <span class="token function" >getInitialState</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >{</span>\n      clicked<span class="token punctuation" >:</span> <span class="token string" >\'none\'</span><span class="token punctuation" >,</span>\n      clicked1<span class="token punctuation" >:</span> <span class="token string" >\'none\'</span><span class="token punctuation" >,</span>\n      clicked2<span class="token punctuation" >:</span> <span class="token string" >\'none\'</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >showActionSheet</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> BUTTONS <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token string" >\'\u64cd\u4f5c\u4e00\'</span><span class="token punctuation" >,</span> <span class="token string" >\'\u64cd\u4f5c\u4e8c\'</span><span class="token punctuation" >,</span> <span class="token string" >\'\u64cd\u4f5c\u4e09\'</span><span class="token punctuation" >,</span> <span class="token string" >\'\u5220\u9664\'</span><span class="token punctuation" >,</span> <span class="token string" >\'\u53d6\u6d88\'</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    ActionSheet<span class="token punctuation" >.</span><span class="token function" >showActionSheetWithOptions</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n      options<span class="token punctuation" >:</span> BUTTONS<span class="token punctuation" >,</span>\n      cancelButtonIndex<span class="token punctuation" >:</span> BUTTONS<span class="token punctuation" >.</span>length <span class="token operator" >-</span> <span class="token number" >1</span><span class="token punctuation" >,</span>\n      destructiveButtonIndex<span class="token punctuation" >:</span> BUTTONS<span class="token punctuation" >.</span>length <span class="token operator" >-</span> <span class="token number" >2</span><span class="token punctuation" >,</span>\n      <span class="token comment" spellcheck="true">// title: \'\u6807\u9898\',</span>\n      message<span class="token punctuation" >:</span> <span class="token string" >\'\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0\'</span><span class="token punctuation" >,</span>\n      maskClosable<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>\n      <span class="token string" >\'data-seed\'</span><span class="token punctuation" >:</span> <span class="token string" >\'logId\'</span><span class="token punctuation" >,</span>\n      wrapProps<span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >(</span>buttonIndex<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> clicked<span class="token punctuation" >:</span> BUTTONS<span class="token punctuation" >[</span>buttonIndex<span class="token punctuation" >]</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  icons<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'mail\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u53d1\u90ae\u4ef6\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'message\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u53d1\u77ed\u4fe1\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'team\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u53d1\u9001\u5230\u7fa4\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'download\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u4e0b\u8f7d\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'delete\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u5220\u9664\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span> iconName<span class="token punctuation" >:</span> <span class="token string" >\'ellipsis\'</span><span class="token punctuation" >,</span> title<span class="token punctuation" >:</span> <span class="token string" >\'\u66f4\u591a\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  <span class="token function" >showShareActionSheet</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> icons <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>icons<span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    icons<span class="token punctuation" >.</span>length <span class="token operator" >=</span> <span class="token number" >4</span><span class="token punctuation" >;</span>\n    ActionSheet<span class="token punctuation" >.</span><span class="token function" >showShareActionSheetWithOptions</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n      options<span class="token punctuation" >:</span> icons<span class="token punctuation" >,</span>\n      <span class="token comment" spellcheck="true">// title: \'\u6807\u9898\',</span>\n      message<span class="token punctuation" >:</span> <span class="token string" >\'\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0\'</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >(</span>buttonIndex<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> clicked1<span class="token punctuation" >:</span> buttonIndex <span class="token operator" >></span> <span class="token operator" >-</span><span class="token number" >1</span> <span class="token operator" >?</span> icons<span class="token punctuation" >[</span>buttonIndex<span class="token punctuation" >]</span><span class="token punctuation" >.</span>title <span class="token punctuation" >:</span> <span class="token string" >\'cancel\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n      <span class="token comment" spellcheck="true">// also support Promise</span>\n      <span class="token keyword" >return</span> <span class="token keyword" >new</span> <span class="token class-name" >Promise</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>resolve<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n        Toast<span class="token punctuation" >.</span><span class="token function" >info</span><span class="token punctuation" >(</span><span class="token string" >\'1000ms \u540e\u5173\u95ed\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n        <span class="token function" >setTimeout</span><span class="token punctuation" >(</span>resolve<span class="token punctuation" >,</span> <span class="token number" >1000</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >showShareActionSheetMulpitleLine</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> icons <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >[</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>icons<span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>icons<span class="token punctuation" >]</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    ActionSheet<span class="token punctuation" >.</span><span class="token function" >showShareActionSheetWithOptions</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>\n      options<span class="token punctuation" >:</span> icons<span class="token punctuation" >,</span>\n      <span class="token comment" spellcheck="true">// title: \'\u6807\u9898\',</span>\n      message<span class="token punctuation" >:</span> <span class="token string" >\'\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0\'</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >(</span>buttonIndex<span class="token punctuation" >,</span> rowIndex<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> clicked2<span class="token punctuation" >:</span> buttonIndex <span class="token operator" >></span> <span class="token operator" >-</span><span class="token number" >1</span> <span class="token operator" >?</span> icons<span class="token punctuation" >[</span>rowIndex<span class="token punctuation" >]</span><span class="token punctuation" >[</span>buttonIndex<span class="token punctuation" >]</span><span class="token punctuation" >.</span>title <span class="token punctuation" >:</span> <span class="token string" >\'cancel\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >style</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> margin<span class="token punctuation" >:</span> <span class="token string" >\'0 15px\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >style</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> margin<span class="token punctuation" >:</span> <span class="token string" >\'15px 0\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>ghost<span class="token punctuation" >"</span></span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>showActionSheet<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\u9ed8\u8ba4\u72b6\u6001<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Button</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >style</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> margin<span class="token punctuation" >:</span> <span class="token string" >\'15px 0\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>ghost<span class="token punctuation" >"</span></span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>showShareActionSheet<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\u5206\u4eab\u529f\u80fd<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Button</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >style</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> margin<span class="token punctuation" >:</span> <span class="token string" >\'15px 0\'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\n        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>ghost<span class="token punctuation" >"</span></span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>showShareActionSheetMulpitleLine<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>\u5e26\u591a\u884c\u6309\u94ae\u7684\u5206\u4eab\u529f\u80fd<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Button</span><span class="token punctuation" >></span></span>\n      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>\n    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\nReactDOM<span class="token punctuation" >.</span><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Test</span> <span class="token punctuation" >/></span></span><span class="token punctuation" >,</span> mountNode<span class="token punctuation" >)</span><span class="token punctuation" >;</span>'}],preview:["pre",{lang:"__react"},["code","import { ActionSheet, Button, Toast } from 'antd-mobile';\n\n// fix touch to scroll background page on iOS\n// https://github.com/ant-design/ant-design-mobile/issues/307\n// https://github.com/ant-design/ant-design-mobile/issues/163\nconst isIPhone = new RegExp('\\\\biPhone\\\\b|\\\\biPod\\\\b', 'i').test(window.navigator.userAgent);\nlet wrapProps;\nif (isIPhone) {\n  wrapProps = {\n    onTouchStart: e => e.preventDefault(),\n  };\n}\n\nconst Test = React.createClass({\n  getInitialState() {\n    return {\n      clicked: 'none',\n      clicked1: 'none',\n      clicked2: 'none',\n    };\n  },\n  showActionSheet() {\n    const BUTTONS = ['\u64cd\u4f5c\u4e00', '\u64cd\u4f5c\u4e8c', '\u64cd\u4f5c\u4e09', '\u5220\u9664', '\u53d6\u6d88'];\n    ActionSheet.showActionSheetWithOptions({\n      options: BUTTONS,\n      cancelButtonIndex: BUTTONS.length - 1,\n      destructiveButtonIndex: BUTTONS.length - 2,\n      // title: '\u6807\u9898',\n      message: '\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0',\n      maskClosable: true,\n      'data-seed': 'logId',\n      wrapProps,\n    },\n    (buttonIndex) => {\n      this.setState({ clicked: BUTTONS[buttonIndex] });\n    });\n  },\n  icons: [\n    { iconName: 'mail', title: '\u53d1\u90ae\u4ef6' },\n    { iconName: 'message', title: '\u53d1\u77ed\u4fe1' },\n    { iconName: 'team', title: '\u53d1\u9001\u5230\u7fa4' },\n    { iconName: 'download', title: '\u4e0b\u8f7d' },\n    { iconName: 'delete', title: '\u5220\u9664' },\n    { iconName: 'ellipsis', title: '\u66f4\u591a' },\n  ],\n  showShareActionSheet() {\n    const icons = [...this.icons];\n    icons.length = 4;\n    ActionSheet.showShareActionSheetWithOptions({\n      options: icons,\n      // title: '\u6807\u9898',\n      message: '\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0',\n    },\n    (buttonIndex) => {\n      this.setState({ clicked1: buttonIndex > -1 ? icons[buttonIndex].title : 'cancel' });\n      // also support Promise\n      return new Promise((resolve) => {\n        Toast.info('1000ms \u540e\u5173\u95ed');\n        setTimeout(resolve, 1000);\n      });\n    });\n  },\n  showShareActionSheetMulpitleLine() {\n    const icons = [[...this.icons], [...this.icons]];\n    ActionSheet.showShareActionSheetWithOptions({\n      options: icons,\n      // title: '\u6807\u9898',\n      message: '\u6211\u662f\u63cf\u8ff0\u6211\u662f\u63cf\u8ff0',\n    },\n    (buttonIndex, rowIndex) => {\n      this.setState({ clicked2: buttonIndex > -1 ? icons[rowIndex][buttonIndex].title : 'cancel' });\n    });\n  },\n  render() {\n    return (<div style={{ margin: '0 15px' }}>\n      <div style={{ margin: '15px 0' }}>\n        <Button type=\"ghost\" onClick={this.showActionSheet}>\u9ed8\u8ba4\u72b6\u6001</Button>\n      </div>\n      <div style={{ margin: '15px 0' }}>\n        <Button type=\"ghost\" onClick={this.showShareActionSheet}>\u5206\u4eab\u529f\u80fd</Button>\n      </div>\n      <div style={{ margin: '15px 0' }}>\n        <Button type=\"ghost\" onClick={this.showShareActionSheetMulpitleLine}>\u5e26\u591a\u884c\u6309\u94ae\u7684\u5206\u4eab\u529f\u80fd</Button>\n      </div>\n    </div>);\n  },\n});\n\nReactDOM.render(<Test />, mountNode);"]]}},599:function(n,s,a){n.exports={basic:a(403)}}});